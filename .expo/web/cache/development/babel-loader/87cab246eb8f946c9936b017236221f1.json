{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/Users/aleksimpson/Desktop/Cogniprint/App.js\";\nimport Amplify, { Storage } from 'aws-amplify';\nimport config from \"./aws-exports\";\nimport { Auth } from 'aws-amplify';\nAmplify.configure(config);\nimport 'react-native-gesture-handler';\nimport * as React from 'react';\nimport { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport { DetailsScreen } from \"./DetailScreen.js\";\nimport { SettingsPage } from \"./SettingsPage.js\";\nimport { withAuthenticator } from 'aws-amplify-react-native';\nimport { CardView } from \"./CardView.js\";\nimport * as Permissions from 'expo-permissions';\nimport * as Notifications from 'expo-notifications';\nimport { Provider } from 'react-redux';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { updatePrinter } from \"./updatePrinters.js\";\nimport store from \"./store.js\";\nimport * as subscriptions from \"./graphql/subscriptions\";\nimport { fetchPrinters } from \"./FetchPrinters.js\";\nimport { Ionicons as Icon } from '@expo/vector-icons';\nimport { darker } from \"./Colors.js\";\nimport YellowBox from \"react-native-web/dist/exports/YellowBox\";\nimport { updatePrinterDict } from \"./updatePrinterDict\";\nimport { EditPrinterView } from \"./EditPrinterView\";\nimport { EditPrinterNameView } from \"./EditPrinterNameView.js\";\nimport { LoadingCardsView } from \"./LoadingCardView\";\nimport { Feather } from '@expo/vector-icons';\nimport { MaterialCommunityIcons as MCI } from '@expo/vector-icons';\nimport ActionSheet from \"./ActionSheet.js\";\nimport AsyncStorage from \"react-native-web/dist/exports/AsyncStorage\";\nimport { Entypo } from '@expo/vector-icons';\nimport { RenderButtons } from \"./RenderButtons.js\";\nimport NetInfo from \"@react-native-community/netinfo\";\nimport { CustomLogin } from \"./CustomLogin.js\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nYellowBox.ignoreWarnings(['Non-serializable values were found in the navigation state']);\nvar windowWidth = Dimensions.get('window').width;\nvar windowHeight = Dimensions.get('window').height;\nvar styles = StyleSheet.create({\n  view: {\n    position: 'absolute',\n    backgroundColor: 'transparent'\n  },\n  image: {\n    width: windowWidth - 30,\n    height: windowHeight / 4,\n    paddingTop: '2%',\n    paddingBottom: '2%',\n    marginTop: 25,\n    shadowColor: 'transparent',\n    borderRadius: 10\n  },\n  touchable: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'rgb(21, 34, 56)'\n  },\n  printerNameText: {\n    fontSize: 200,\n    textAlign: 'center',\n    color: 'white',\n    bottom: 0,\n    left: 0,\n    position: 'absolute',\n    marginLeft: 10,\n    marginBottom: 7\n  },\n  printerStatusText: {\n    fontSize: 15,\n    textAlign: 'center',\n    color: 'white',\n    bottom: 0,\n    right: 0,\n    position: 'absolute',\n    marginRight: 10,\n    marginBottom: 10\n  },\n  cardCompletionViewStyle: {\n    borderRadius: Math.round(windowWidth + windowHeight) / 2,\n    width: windowWidth / (windowWidth / 125),\n    height: windowWidth / (windowWidth / 125),\n    borderColor: 'rgba(255, 255, 255, .3)',\n    borderWidth: 5,\n    alignItems: 'center',\n    position: 'absolute',\n    right: 0,\n    marginRight: 10,\n    marginTop: windowHeight / 60\n  },\n  actionSheetIconStyle: {\n    marginLeft: 5,\n    marginTop: 7\n  },\n  buttonStyle: {\n    fontSize: 15,\n    marginTop: 10,\n    marginBottom: 10,\n    marginLeft: 10\n  }\n});\n\nfunction HomeScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      refreshing = _useState2[0],\n      setRefreshing = _useState2[1];\n\n  var images = useSelector(function (state) {\n    return state.imageDict;\n  });\n  var dispatch = useDispatch();\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showActionSheet = _useState4[0],\n      setAction = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      sortMethod = _useState6[0],\n      setMethod = _useState6[1];\n\n  var _useState7 = useState(true),\n      _useState8 = _slicedToArray(_useState7, 2),\n      connection = _useState8[0],\n      setConnection = _useState8[1];\n\n  var sortButtonsDict = {\n    'Failure Risk': React.createElement(MCI, {\n      name: \"shield-alert\",\n      size: 20,\n      color: \"#7CFC00\",\n      style: {\n        marginRight: 6\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 21\n      }\n    }),\n    'Alphabetical Order': React.createElement(Feather, {\n      name: \"align-justify\",\n      size: 20,\n      color: \"#7CFC00\",\n      style: {\n        marginRight: 6\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 28\n      }\n    })\n  };\n\n  function closeActionSheet() {\n    setAction(false);\n  }\n\n  var actionItems = [{\n    id: 1,\n    icon: React.createElement(MCI, {\n      name: \"shield-alert\",\n      size: 20,\n      color: sortMethod == 'Failure Risk' ? '#7CFC00' : 'gray',\n      style: styles.actionSheetIconStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }),\n    label: React.createElement(Text, {\n      style: {\n        fontSize: 15,\n        marginTop: 10,\n        marginBottom: 10,\n        marginLeft: 10,\n        color: sortMethod == 'Failure Risk' ? '#7CFC00' : 'gray'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 14\n      }\n    }, \"Risk Failure\"),\n    onPress: function onPress() {\n      resortPrintersWith('Failure Risk');\n    },\n    color: sortMethod == 'Failure Risk' ? '#7CFC00' : 'gray'\n  }, {\n    id: 2,\n    icon: React.createElement(Feather, {\n      name: \"align-justify\",\n      size: 24,\n      color: sortMethod == 'Alphabetical Order' ? '#7CFC00' : 'gray',\n      style: styles.actionSheetIconStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 13\n      }\n    }),\n    label: React.createElement(Text, {\n      style: {\n        fontSize: 15,\n        marginTop: 10,\n        marginBottom: 10,\n        marginLeft: 10,\n        color: sortMethod == 'Alphabetical Order' ? '#7CFC00' : 'gray'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 14\n      }\n    }, \"Alphabetical Order\"),\n    onPress: function onPress() {\n      resortPrintersWith('Alphabetical Order');\n    },\n    color: sortMethod == 'Alphabetical Order' ? '#7CFC00' : 'gray'\n  }];\n\n  function resortPrintersWith(method) {\n    setAction(false);\n    setMethod(method);\n    storeData('sortMethod', method).then(function () {\n      return _onRefresh(method, true);\n    });\n  }\n\n  var storeData = function storeData(key, value) {\n    return _regeneratorRuntime.async(function storeData$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem(key, value));\n\n          case 3:\n            _context.next = 8;\n            break;\n\n          case 5:\n            _context.prev = 5;\n            _context.t0 = _context[\"catch\"](0);\n            console.log('ERROR SAVING USER PREFERENCE: ', _context.t0);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var getData = function getData(key) {\n    var value;\n    return _regeneratorRuntime.async(function getData$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(key));\n\n          case 3:\n            value = _context2.sent;\n\n            if (value !== null) {\n              setMethod(value);\n              fetchPrinters(null, false, value);\n            } else {\n              storeData('sortMethod', 'Failure Risk');\n              setMethod('Failure Risk');\n              fetchPrinters(null, false, 'Failure Risk');\n            }\n\n            _context2.next = 10;\n            break;\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log('ERROR GETTING USER PREFERENCE: ', _context2.t0);\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  function _onRefresh() {\n    var method = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : sortMethod;\n    var isResort = arguments.length > 1 ? arguments[1] : undefined;\n    setRefreshing(true);\n    dispatch(updatePrinter([]));\n    dispatch(updatePrinterDict({}));\n    fetchPrinters(null, true, method, isResort).then(function () {\n      return setRefreshing(false);\n    });\n  }\n\n  useEffect(function () {\n    if (Platform.OS !== \"web\") {\n      var _unsubscribe = NetInfo.addEventListener(function (state) {\n        setConnection(state.isInternetReachable);\n      });\n    }\n\n    getData('sortMethod');\n    return function () {\n      if (Platform.OS !== \"web\") {\n        unsubscribe();\n      }\n    };\n  }, []);\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center',\n      backgroundColor: darker['five']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 5\n    }\n  }, Object.keys(images).length > 0 && React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }\n  }, React.createElement(ScrollView, {\n    refreshControl: React.createElement(RefreshControl, {\n      refreshing: refreshing,\n      onRefresh: function onRefresh() {\n        return _onRefresh();\n      },\n      tintColor: \"white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 13\n      }\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return setAction(true);\n    },\n    style: {\n      flexDirection: 'row',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 11\n    }\n  }, sortButtonsDict[sortMethod], React.createElement(Text, {\n    style: {\n      fontSize: 15,\n      color: '#7CFC00'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 13\n    }\n  }, sortMethod), React.createElement(Entypo, {\n    name: \"chevron-down\",\n    color: \"#7CFC00\",\n    size: 20,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 13\n    }\n  })), React.createElement(RenderButtons, {\n    navigation: navigation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 11\n    }\n  })), React.createElement(Modal, {\n    visible: showActionSheet,\n    animationType: \"slide\",\n    transparent: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }\n  }, React.createElement(ActionSheet, {\n    actionItems: actionItems,\n    onCancel: closeActionSheet,\n    title: \"SORT BY\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 11\n    }\n  }))), Object.keys(images).length == 0 && React.createElement(LoadingCardsView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 9\n    }\n  }));\n}\n\nvar Stack = createStackNavigator();\n\nfunction App(_ref2) {\n  var navigation = _ref2.navigation;\n  return React.createElement(Provider, {\n    store: store,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 5\n    }\n  }, React.createElement(NavigationContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }\n  }, React.createElement(Stack.Navigator, {\n    initialRouteName: \"Home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 9\n    }\n  }, React.createElement(Stack.Screen, {\n    name: \"Printers\",\n    component: HomeScreen,\n    options: function options(_ref3) {\n      var navigation = _ref3.navigation;\n      return {\n        title: 'Printers',\n        headerStyle: {\n          backgroundColor: 'rgb(21, 34, 56)',\n          height: windowHeight / 6.7,\n          shadowColor: 'transparent'\n        },\n        headerTintColor: '#fff',\n        headerTitleStyle: {\n          fontWeight: 'bold',\n          fontSize: 30,\n          marginTop: 30\n        },\n        headerTitleAlign: \"left\",\n        headerRight: function headerRight() {\n          return React.createElement(TouchableOpacity, {\n            onPress: function onPress() {\n              return navigation.navigate('Settings');\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }\n          }, React.createElement(Icon, {\n            name: \"ios-settings\",\n            size: 32,\n            color: \"#7CFC00\",\n            style: {\n              marginRight: 20,\n              marginTop: 20\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 19\n            }\n          }));\n        }\n      };\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 11\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Detail Screen\",\n    component: DetailsScreen,\n    options: function options(_ref4) {\n      var route = _ref4.route,\n          navigation = _ref4.navigation;\n      return {\n        headerStyle: {\n          backgroundColor: 'rgb(21, 34, 56)',\n          height: windowHeight / 6.7,\n          shadowColor: 'transparent'\n        },\n        headerTintColor: '#fff',\n        headerTitleStyle: {\n          fontWeight: 'normal'\n        },\n        headerTitleAlign: \"center\",\n        title: route.params.printer.name,\n        headerBackTitleVisible: false,\n        headerTintColor: '#7CFC00',\n        headerTitleStyle: {\n          color: 'white'\n        },\n        headerRight: function headerRight() {\n          return React.createElement(TouchableOpacity, {\n            onPress: function onPress() {\n              return navigation.navigate('Printer Settings', {\n                printer: route.params.printer\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }\n          }, React.createElement(MCI, {\n            name: \"pencil\",\n            size: 32,\n            color: \"#7CFC00\",\n            style: {\n              marginRight: 20,\n              marginTop: 10\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 19\n            }\n          }));\n        }\n      };\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 11\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Settings\",\n    component: SettingsPage,\n    options: function options(_ref5) {\n      var route = _ref5.route;\n      return {\n        headerStyle: {\n          backgroundColor: 'rgb(21, 34, 56)',\n          height: windowHeight / 6.7,\n          shadowColor: 'transparent'\n        },\n        headerTintColor: '#fff',\n        headerTitleStyle: {\n          fontWeight: 'normal'\n        },\n        headerTitleAlign: \"center\",\n        headerBackTitleVisible: false,\n        headerTintColor: '#7CFC00',\n        headerTitleStyle: {\n          color: 'white'\n        }\n      };\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 11\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Printer Settings\",\n    component: EditPrinterView,\n    options: function options(_ref6) {\n      var route = _ref6.route;\n      return {\n        headerStyle: {\n          backgroundColor: 'rgb(21, 34, 56)',\n          height: windowHeight / 6.7,\n          shadowColor: 'transparent'\n        },\n        headerTintColor: '#fff',\n        headerTitleStyle: {\n          fontWeight: 'normal'\n        },\n        headerTitleAlign: \"center\",\n        headerBackTitleVisible: false,\n        headerTintColor: '#7CFC00',\n        headerTitleStyle: {\n          color: 'white'\n        }\n      };\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 11\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Edit Printer Name\",\n    component: EditPrinterNameView,\n    options: function options(_ref7) {\n      var route = _ref7.route;\n      return {\n        headerStyle: {\n          backgroundColor: 'rgb(21, 34, 56)',\n          height: windowHeight / 6.7,\n          shadowColor: 'transparent'\n        },\n        headerTintColor: '#fff',\n        headerTitleStyle: {\n          fontWeight: 'normal'\n        },\n        headerTitleAlign: \"center\",\n        headerBackTitleVisible: false,\n        headerTintColor: '#7CFC00',\n        headerTitleStyle: {\n          color: 'white'\n        }\n      };\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default withAuthenticator(App, false, [React.createElement(CustomLogin, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 410,\n    columnNumber: 3\n  }\n})]);","map":{"version":3,"sources":["/Users/aleksimpson/Desktop/Cogniprint/App.js"],"names":["Amplify","Storage","config","Auth","configure","React","useEffect","useState","NavigationContainer","createStackNavigator","TouchableOpacity","DetailsScreen","SettingsPage","withAuthenticator","CardView","Permissions","Notifications","Provider","useSelector","useDispatch","updatePrinter","store","subscriptions","fetchPrinters","Ionicons","Icon","darker","updatePrinterDict","EditPrinterView","EditPrinterNameView","LoadingCardsView","Feather","MaterialCommunityIcons","MCI","ActionSheet","Entypo","RenderButtons","NetInfo","CustomLogin","YellowBox","ignoreWarnings","windowWidth","Dimensions","get","width","windowHeight","height","styles","StyleSheet","create","view","position","backgroundColor","image","paddingTop","paddingBottom","marginTop","shadowColor","borderRadius","touchable","alignItems","justifyContent","printerNameText","fontSize","textAlign","color","bottom","left","marginLeft","marginBottom","printerStatusText","right","marginRight","cardCompletionViewStyle","Math","round","borderColor","borderWidth","actionSheetIconStyle","buttonStyle","HomeScreen","navigation","refreshing","setRefreshing","images","state","imageDict","dispatch","showActionSheet","setAction","sortMethod","setMethod","connection","setConnection","sortButtonsDict","closeActionSheet","actionItems","id","icon","label","onPress","resortPrintersWith","method","storeData","then","onRefresh","key","value","AsyncStorage","setItem","console","log","getData","getItem","isResort","Platform","OS","unsubscribe","addEventListener","isInternetReachable","flex","Object","keys","length","flexDirection","Stack","App","title","headerStyle","headerTintColor","headerTitleStyle","fontWeight","headerTitleAlign","headerRight","navigate","route","params","printer","name","headerBackTitleVisible"],"mappings":"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","sourcesContent":["import Amplify, { Storage } from 'aws-amplify'\nimport config from './aws-exports'\nimport { Auth } from 'aws-amplify';\nAmplify.configure(config)\nimport 'react-native-gesture-handler';\nimport * as React from 'react';\nimport { useEffect, useState } from 'react'\nimport { View, StyleSheet, ScrollView, Dimensions, RefreshControl, Text, Modal } from 'react-native';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport { DetailsScreen } from './DetailScreen.js';\nimport { SettingsPage } from './SettingsPage.js';\nimport { withAuthenticator } from 'aws-amplify-react-native'\nimport { CardView } from './CardView.js';\nimport * as Permissions from 'expo-permissions';\nimport * as Notifications from 'expo-notifications';\nimport { Provider } from 'react-redux'; \nimport { useSelector, useDispatch } from 'react-redux';\nimport { updatePrinter } from './updatePrinters.js';\nimport store from './store.js';\nimport * as subscriptions from './graphql/subscriptions';\nimport { fetchPrinters } from './FetchPrinters.js';\nimport { Ionicons as Icon} from '@expo/vector-icons';\nimport { darker } from './Colors.js';\nimport { YellowBox } from 'react-native';\nimport { updatePrinterDict } from './updatePrinterDict';\nimport { EditPrinterView } from './EditPrinterView';\nimport { EditPrinterNameView } from './EditPrinterNameView.js';\nimport { LoadingCardsView } from './LoadingCardView';\nimport { Feather } from '@expo/vector-icons';\nimport { MaterialCommunityIcons as MCI } from '@expo/vector-icons';\nimport ActionSheet from './ActionSheet.js';\nimport { AsyncStorage } from \"react-native\";\nimport { Entypo } from '@expo/vector-icons';\nimport { RenderButtons } from './RenderButtons.js'\nimport NetInfo from \"@react-native-community/netinfo\";\nimport { CustomLogin } from './CustomLogin.js';\nimport { Platform } from 'react-native'\n\nYellowBox.ignoreWarnings([\n  'Non-serializable values were found in the navigation state',\n]);\n\nconst windowWidth = Dimensions.get('window').width;\nconst windowHeight = Dimensions.get('window').height;\n\nconst styles = StyleSheet.create({\n  view: \n  {\n    position: 'absolute',\n    backgroundColor: 'transparent'\n  },\n  image: \n  {\n    width: windowWidth - 30,\n    height: windowHeight / 4,\n    paddingTop: '2%',\n    paddingBottom: '2%',\n    marginTop: 25,\n    shadowColor: 'transparent',\n    borderRadius:10\n  },\n  touchable:\n  {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor:'rgb(21, 34, 56)'\n  },\n  printerNameText: \n  {\n    fontSize: 200,\n    textAlign: 'center',\n    color: 'white',\n    bottom: 0,\n    left:0,\n    position: 'absolute',\n    marginLeft: 10,\n    marginBottom: 7\n  },\n  printerStatusText: \n  {\n    fontSize: 15,\n    textAlign: 'center',\n    color: 'white',\n    bottom: 0,\n    right:0,\n    position: 'absolute',\n    marginRight: 10,\n    marginBottom: 10\n  },\n  cardCompletionViewStyle:\n  {\n    borderRadius: Math.round(windowWidth + windowHeight) / 2,\n    width: windowWidth / (windowWidth/125),\n    height: windowWidth / (windowWidth/125),\n    borderColor: 'rgba(255, 255, 255, .3)', \n    borderWidth: 5,\n    alignItems: 'center',\n    position: 'absolute',\n    right: 0,\n    marginRight: 10,\n    marginTop: (windowHeight/60)\n  },\n  actionSheetIconStyle:\n  {\n    marginLeft: 5,\n    marginTop: 7\n  },\n  buttonStyle:\n  {\n    fontSize: 15,\n    marginTop: 10,\n    marginBottom: 10,\n    marginLeft: 10,\n  },\n})\n\nfunction HomeScreen({ navigation }) \n{\n  const [refreshing, setRefreshing] = useState(false)\n  const images = useSelector(state => { return state.imageDict })\n  const dispatch = useDispatch()\n  const [showActionSheet, setAction] = useState(false)\n  const [sortMethod, setMethod] = useState('')\n  const [connection, setConnection] = useState(true)\n\n  let sortButtonsDict = { \n    'Failure Risk': <MCI name='shield-alert' size={20} color='#7CFC00' style={{ marginRight: 6 }}/>, \n    'Alphabetical Order' : <Feather name='align-justify' size={20} color='#7CFC00' style={{ marginRight: 6 }}/>  \n  }\n\n  function closeActionSheet()\n  {\n      setAction(false)\n  }\n\n  const actionItems = [\n    {\n      id: 1,\n      icon: <MCI name='shield-alert' size={20} color={(sortMethod == 'Failure Risk' ? '#7CFC00' : 'gray')} style={ styles.actionSheetIconStyle }/>,\n      label: <Text style={{ fontSize: 15, marginTop: 10, marginBottom: 10, marginLeft: 10, color:(sortMethod == 'Failure Risk' ? '#7CFC00' : 'gray') }}>Risk Failure</Text>,\n      onPress: () => {\n        resortPrintersWith('Failure Risk')\n      },\n      color: (sortMethod == 'Failure Risk' ? '#7CFC00' : 'gray')\n    },\n    {\n      id: 2,\n      icon: <Feather name='align-justify' size={24} color={(sortMethod == 'Alphabetical Order' ? '#7CFC00' : 'gray')} style={ styles.actionSheetIconStyle }/>,\n      label: <Text style={{ fontSize: 15, marginTop: 10, marginBottom: 10, marginLeft: 10, color: (sortMethod == 'Alphabetical Order' ? '#7CFC00' : 'gray')}}>Alphabetical Order</Text>,\n      onPress: () => {\n        resortPrintersWith('Alphabetical Order')\n      },\n      color:(sortMethod == 'Alphabetical Order' ? '#7CFC00' : 'gray')\n    },\n  ];\n\n  //Resorts the printers\n  function resortPrintersWith(method)\n  {\n    setAction(false)\n    setMethod(method)\n    storeData('sortMethod', method).then(() => onRefresh(method, true))\n  }\n\n  //saves user preference\n  const storeData = async (key, value) => \n  {\n      try \n      {\n          await AsyncStorage.setItem(key, value)\n      } catch(e) \n      {\n          // saving error\n          console.log('ERROR SAVING USER PREFERENCE: ', e)\n      }\n  }\n\n  //retrieves user preference\n  const getData = async (key) => \n  {\n      try \n      {\n          const value = await AsyncStorage.getItem(key)\n          if (value !== null) \n          {\n              // value previously stored\n              setMethod(value)\n              fetchPrinters(null, false, value)\n          }else\n          {\n            storeData('sortMethod', 'Failure Risk')\n            setMethod('Failure Risk')\n            fetchPrinters(null, false, 'Failure Risk')\n          }\n      } catch(e) \n      {\n          // error reading value\n          console.log('ERROR GETTING USER PREFERENCE: ', e)\n      }\n  }\n\n  //Refreshes the printers\n  function onRefresh(method = sortMethod, isResort)\n  {\n    setRefreshing(true)\n\n    dispatch(updatePrinter([]))\n    dispatch(updatePrinterDict({}))\n\n    fetchPrinters(null, true, method, isResort).then(() => setRefreshing(false))\n  }\n\n  useEffect(() => \n  {\n    if (Platform.OS !== \"web\")\n    {\n      const unsubscribe = NetInfo.addEventListener(state => \n        {\n          setConnection(state.isInternetReachable)\n        })\n    }\n\n    //Get the saved sort method and then load printers with that sort method\n    getData('sortMethod')\n\n    return () => \n    {\n      if (Platform.OS !== \"web\")\n      {\n        unsubscribe()\n      }\n    }\n  }, [])\n\n  return (\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: darker['five'] }}>\n      {(Object.keys(images).length > 0) &&\n      <React.Fragment>\n        <ScrollView\n          refreshControl={\n            <RefreshControl refreshing={refreshing} onRefresh={() => onRefresh()} tintColor='white'/>\n          }\n        >\n          <TouchableOpacity onPress={() => setAction(true)} style={{ flexDirection: 'row', alignItems: 'center' }}>\n            {sortButtonsDict[sortMethod]}\n            <Text style={{ fontSize: 15, color: '#7CFC00' }}>{sortMethod}</Text>\n            <Entypo name='chevron-down' color='#7CFC00' size={20} />\n          </TouchableOpacity>\n\n          <RenderButtons navigation={navigation}/>\n        </ScrollView>\n        <Modal\n          visible={showActionSheet}\n          animationType='slide'\n          transparent={true}\n        >\n          <ActionSheet\n              actionItems={actionItems}\n              onCancel={closeActionSheet}\n              title='SORT BY'\n          />\n        </Modal>\n      </React.Fragment>\n      }\n      {(Object.keys(images).length == 0) &&\n        <LoadingCardsView/>\n      }\n    </View>\n  );\n}\n\nconst Stack = createStackNavigator();\n\nfunction App({ navigation }) \n{\n  return (\n    <Provider store={store}>\n      <NavigationContainer>\n        <Stack.Navigator initialRouteName=\"Home\">\n          <Stack.Screen \n            name=\"Printers\" \n            component={HomeScreen}  \n            options={({ navigation }) => ({\n              title: 'Printers',\n              headerStyle: \n              {\n                backgroundColor: 'rgb(21, 34, 56)',\n                height:(windowHeight/6.7),\n                shadowColor: 'transparent'\n              },\n              headerTintColor: '#fff',\n              headerTitleStyle: \n              {\n                fontWeight: 'bold',\n                fontSize:30,\n                marginTop:30\n              },\n              headerTitleAlign: \"left\",\n              headerRight: () => (\n                <TouchableOpacity onPress={() => navigation.navigate('Settings')}>\n                  <Icon name='ios-settings' size={32} color='#7CFC00' style={{ marginRight: 20, marginTop: 20 }} />\n                </TouchableOpacity>\n              ),\n            })}\n          />\n          <Stack.Screen \n            name=\"Detail Screen\" \n            component={DetailsScreen}\n            options={({ route, navigation }) => \n            ({\n              headerStyle: \n              {\n                backgroundColor: 'rgb(21, 34, 56)',\n                height:(windowHeight/6.7),\n                shadowColor: 'transparent'\n              },\n              headerTintColor: '#fff',\n              headerTitleStyle: \n              {\n                fontWeight: 'normal',\n              },\n              headerTitleAlign: \"center\",\n              title: route.params.printer.name,\n              headerBackTitleVisible: false,\n              headerTintColor: '#7CFC00',\n              headerTitleStyle: { color: 'white' },\n              headerRight: () => (\n                <TouchableOpacity onPress={() => navigation.navigate('Printer Settings', { printer: route.params.printer})}>\n                  <MCI name='pencil' size={32} color='#7CFC00' style={{ marginRight: 20, marginTop: 10 }} />\n                </TouchableOpacity>\n              ),\n            })}\n            \n          />\n          <Stack.Screen \n            name=\"Settings\" \n            component={SettingsPage}\n            options={({ route }) => \n            ({\n              headerStyle: \n              {\n                backgroundColor: 'rgb(21, 34, 56)',\n                height:(windowHeight/6.7),\n                shadowColor: 'transparent'\n              },\n              headerTintColor: '#fff',\n              headerTitleStyle: \n              {\n                fontWeight: 'normal',\n              },\n              headerTitleAlign: \"center\",\n              headerBackTitleVisible: false,\n              headerTintColor: '#7CFC00',\n              headerTitleStyle: { color: 'white' },\n            })}\n          />\n          <Stack.Screen\n            name=\"Printer Settings\" \n            component={EditPrinterView}\n            options={({ route }) => \n            ({\n              headerStyle: \n              {\n                backgroundColor: 'rgb(21, 34, 56)',\n                height:(windowHeight/6.7),\n                shadowColor: 'transparent'\n              },\n              headerTintColor: '#fff',\n              headerTitleStyle: \n              {\n                fontWeight: 'normal',\n              },\n              headerTitleAlign: \"center\",\n              headerBackTitleVisible: false,\n              headerTintColor: '#7CFC00',\n              headerTitleStyle: { color: 'white' },\n            })}\n          />\n          <Stack.Screen\n            name=\"Edit Printer Name\" \n            component={EditPrinterNameView}\n            options={({ route }) => \n            ({\n              headerStyle: \n              {\n                backgroundColor: 'rgb(21, 34, 56)',\n                height:(windowHeight/6.7),\n                shadowColor: 'transparent'\n              },\n              headerTintColor: '#fff',\n              headerTitleStyle: \n              {\n                fontWeight: 'normal',\n              },\n              headerTitleAlign: \"center\",\n              headerBackTitleVisible: false,\n              headerTintColor: '#7CFC00',\n              headerTitleStyle: { color: 'white' },\n            })}\n          />\n        </Stack.Navigator>\n      </NavigationContainer>\n    </Provider>\n  );\n}\n\nexport default withAuthenticator(App, false, [\n  <CustomLogin/>\n]);\n"]},"metadata":{},"sourceType":"module"}