{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nvar _jsxFileName = \"/Users/aleksimpson/Desktop/Cogniprint/App.js\";\nimport Amplify, { Storage } from 'aws-amplify';\nimport config from \"./aws-exports\";\nimport { Auth } from 'aws-amplify';\nAmplify.configure(config);\nimport 'react-native-gesture-handler';\nimport * as React from 'react';\nimport { useEffect, useState, useReducer } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport { DetailsScreen } from \"./DetailScreen.js\";\nimport { SettingsPage } from \"./SettingsPage.js\";\nimport { withAuthenticator } from 'aws-amplify-react-native';\nimport { CardView } from \"./CardView.js\";\nimport * as FileSystem from 'expo-file-system';\nimport * as Permissions from 'expo-permissions';\nimport * as Notifications from 'expo-notifications';\nimport { Provider } from 'react-redux';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { updatePrinter } from \"./updatePrinters.js\";\nimport store from \"./store.js\";\nimport * as subscriptions from \"./graphql/subscriptions\";\nimport { fetchPrinters } from \"./FetchPrinters.js\";\nimport { Ionicons as Icon } from '@expo/vector-icons';\nimport { MaterialCommunityIcons as MCI } from '@expo/vector-icons';\nimport { darker } from \"./Colors.js\";\nimport { API, graphqlOperation } from 'aws-amplify';\nimport { printersByOwner, listPrints } from \"./graphql/queries\";\nimport YellowBox from \"react-native-web/dist/exports/YellowBox\";\nimport { updatePrinterDict } from \"./updatePrinterDict\";\nimport { EditPrinterView } from \"./EditPrinterView\";\nimport { EditPrinterNameView } from \"./EditPrinterNameView.js\";\nimport { LoadingCardsView } from \"./LoadingCardView\";\nYellowBox.ignoreWarnings(['Non-serializable values were found in the navigation state']);\nvar windowWidth = Dimensions.get('window').width;\nvar windowHeight = Dimensions.get('window').height;\nvar styles = StyleSheet.create({\n  view: {\n    position: 'absolute',\n    backgroundColor: 'transparent'\n  },\n  image: {\n    width: windowWidth - 30,\n    height: windowHeight / 4,\n    paddingTop: '2%',\n    paddingBottom: '2%',\n    marginTop: 25,\n    shadowColor: 'transparent',\n    borderRadius: 10\n  },\n  touchable: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'rgb(21, 34, 56)'\n  },\n  printerNameText: {\n    fontSize: 200,\n    textAlign: 'center',\n    color: 'white',\n    bottom: 0,\n    left: 0,\n    position: 'absolute',\n    marginLeft: 10,\n    marginBottom: 7\n  },\n  printerStatusText: {\n    fontSize: 15,\n    textAlign: 'center',\n    color: 'white',\n    bottom: 0,\n    right: 0,\n    position: 'absolute',\n    marginRight: 10,\n    marginBottom: 10\n  },\n  cardCompletionViewStyle: {\n    borderRadius: Math.round(windowWidth + windowHeight) / 2,\n    width: windowWidth / (windowWidth / 125),\n    height: windowWidth / (windowWidth / 125),\n    borderColor: 'rgba(255, 255, 255, .3)',\n    borderWidth: 5,\n    alignItems: 'center',\n    position: 'absolute',\n    right: 0,\n    marginRight: 10,\n    marginTop: windowHeight / 60\n  }\n});\n\nfunction calculateTimeExpired(printer) {\n  var currentTime = new Date();\n  var printerUpdated = new Date(printer.updatedAt);\n  var diff = Math.abs(currentTime - printerUpdated) / 1000;\n  var expiredTime = diff > 5 * 60;\n  return expiredTime;\n}\n\nfunction RenderButtons(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation,\n      handleLoading = _ref.handleLoading;\n  var listPrinters = useSelector(function (state) {\n    return state.listP;\n  });\n  var images = useSelector(function (state) {\n    return state.imageDict;\n  });\n  var dispatch = useDispatch();\n\n  function offlineDetection() {\n    console.log('calling again');\n    var i = 0;\n    listPrinters.forEach(function (printer) {\n      if (printer.printerState != null) {\n        if (printer.printerState.status != 0) {\n          var timeExpired = calculateTimeExpired(printer);\n\n          if (timeExpired) {\n            var newListPrinters = _toConsumableArray(listPrinters);\n\n            newListPrinters[i].status = 0;\n            dispatch(updatePrinter(newListPrinters));\n          }\n\n          console.log('did get to ', i);\n          i++;\n        }\n      }\n    });\n    offlineDetection();\n  }\n\n  registerForPushNotificationsAsync = function registerForPushNotificationsAsync() {\n    var _await$Permissions$ge, existingStatus, finalStatus, _await$Permissions$as, status, token;\n\n    return _regeneratorRuntime.async(function registerForPushNotificationsAsync$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!Constants.isDevice) {\n              _context.next = 22;\n              break;\n            }\n\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(Permissions.getAsync(Permissions.NOTIFICATIONS));\n\n          case 3:\n            _await$Permissions$ge = _context.sent;\n            existingStatus = _await$Permissions$ge.status;\n            finalStatus = existingStatus;\n\n            if (!(existingStatus !== 'granted')) {\n              _context.next = 12;\n              break;\n            }\n\n            _context.next = 9;\n            return _regeneratorRuntime.awrap(Permissions.askAsync(Permissions.NOTIFICATIONS));\n\n          case 9:\n            _await$Permissions$as = _context.sent;\n            status = _await$Permissions$as.status;\n            finalStatus = status;\n\n          case 12:\n            if (!(finalStatus !== 'granted')) {\n              _context.next = 15;\n              break;\n            }\n\n            alert('Failed to get push token for push notification!');\n            return _context.abrupt(\"return\");\n\n          case 15:\n            _context.next = 17;\n            return _regeneratorRuntime.awrap(Notifications.getExpoPushTokenAsync());\n\n          case 17:\n            token = _context.sent;\n            console.log(token);\n\n            _this.setState({\n              expoPushToken: token\n            });\n\n            _context.next = 23;\n            break;\n\n          case 22:\n            alert('Must use physical device for Push Notifications');\n\n          case 23:\n            if (Platform.OS === 'android') {\n              Notifications.createChannelAndroidAsync('default', {\n                name: 'default',\n                sound: true,\n                priority: 'max',\n                vibrate: [0, 250, 250, 250]\n              });\n            }\n\n          case 24:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  offlineDetection();\n  return listPrinters.map(function (printer) {\n    return React.createElement(TouchableOpacity, {\n      key: printer.id,\n      style: styles.touchable,\n      onPress: function onPress() {\n        return navigation.navigate('Detail Screen', {\n          printer: printer,\n          images: images\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 7\n      }\n    }, React.createElement(CardView, {\n      printer: printer,\n      images: images,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }\n    }));\n  });\n}\n\nfunction HomeScreen(_ref2) {\n  var navigation = _ref2.navigation;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      refreshing = _useState2[0],\n      setRefreshing = _useState2[1];\n\n  var listPrinters = useSelector(function (state) {\n    return state.listP;\n  });\n  var dispatch = useDispatch();\n\n  function onRefresh() {\n    setRefreshing(true);\n    var clear = [];\n    dispatch(updatePrinter(clear));\n    fetchPrinters(true).then(function () {\n      return setRefreshing(false);\n    });\n  }\n\n  useEffect(function () {\n    fetchPrinters();\n  }, []);\n  return React.createElement(View, {\n    style: {\n      flex: 1,\n      alignItems: 'center',\n      justifyContent: 'center',\n      backgroundColor: darker['five']\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 5\n    }\n  }, listPrinters.length > 0 && React.createElement(ScrollView, {\n    refreshControl: React.createElement(RefreshControl, {\n      refreshing: refreshing,\n      onRefresh: onRefresh,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 13\n      }\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }\n  }, React.createElement(RenderButtons, {\n    navigation: navigation,\n    handleLoading: function (_handleLoading) {\n      function handleLoading() {\n        return _handleLoading.apply(this, arguments);\n      }\n\n      handleLoading.toString = function () {\n        return _handleLoading.toString();\n      };\n\n      return handleLoading;\n    }(function () {\n      return handleLoading;\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 11\n    }\n  })), listPrinters.length == 0 && React.createElement(LoadingCardsView, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 9\n    }\n  }));\n}\n\nvar Stack = createStackNavigator();\n\nfunction App(_ref3) {\n  var navigation = _ref3.navigation;\n  return React.createElement(Provider, {\n    store: store,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 5\n    }\n  }, React.createElement(NavigationContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }\n  }, React.createElement(Stack.Navigator, {\n    initialRouteName: \"Home\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 9\n    }\n  }, React.createElement(Stack.Screen, {\n    name: \"Printers\",\n    component: HomeScreen,\n    options: function options(_ref4) {\n      var navigation = _ref4.navigation;\n      return {\n        title: 'Printers',\n        headerStyle: {\n          backgroundColor: 'rgb(21, 34, 56)',\n          height: windowWidth > 375 ? 110 : 85,\n          shadowColor: 'transparent'\n        },\n        headerTintColor: '#fff',\n        headerTitleStyle: {\n          fontWeight: 'bold',\n          fontSize: 30,\n          marginTop: 30\n        },\n        headerTitleAlign: \"left\",\n        headerRight: function headerRight() {\n          return React.createElement(TouchableOpacity, {\n            onPress: function onPress() {\n              return navigation.navigate('Settings');\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }\n          }, React.createElement(Icon, {\n            name: \"ios-settings\",\n            size: 32,\n            color: \"#7CFC00\",\n            style: {\n              marginRight: 20,\n              marginTop: 20\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 19\n            }\n          }));\n        }\n      };\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 11\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Detail Screen\",\n    component: DetailsScreen,\n    options: function options(_ref5) {\n      var route = _ref5.route,\n          navigation = _ref5.navigation;\n      return {\n        headerStyle: {\n          backgroundColor: 'rgb(21, 34, 56)',\n          height: windowWidth > 375 ? 110 : 85,\n          shadowColor: 'transparent'\n        },\n        headerTintColor: '#fff',\n        headerTitleStyle: {\n          fontWeight: 'normal'\n        },\n        headerTitleAlign: \"center\",\n        title: route.params.printer.name,\n        headerBackTitleVisible: false,\n        headerTintColor: '#7CFC00',\n        headerTitleStyle: {\n          color: 'white'\n        },\n        headerRight: function headerRight() {\n          return React.createElement(TouchableOpacity, {\n            onPress: function onPress() {\n              return navigation.navigate('Printer Settings', {\n                printer: route.params.printer\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }\n          }, React.createElement(MCI, {\n            name: \"pencil\",\n            size: 32,\n            color: \"#7CFC00\",\n            style: {\n              marginRight: 20,\n              marginTop: 10\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 19\n            }\n          }));\n        }\n      };\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 11\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Settings\",\n    component: SettingsPage,\n    options: function options(_ref6) {\n      var route = _ref6.route;\n      return {\n        headerStyle: {\n          backgroundColor: 'rgb(21, 34, 56)',\n          height: windowWidth > 375 ? 110 : 85,\n          shadowColor: 'transparent'\n        },\n        headerTintColor: '#fff',\n        headerTitleStyle: {\n          fontWeight: 'normal'\n        },\n        headerTitleAlign: \"center\",\n        headerBackTitleVisible: false,\n        headerTintColor: '#7CFC00',\n        headerTitleStyle: {\n          color: 'white'\n        }\n      };\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 11\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Printer Settings\",\n    component: EditPrinterView,\n    options: function options(_ref7) {\n      var route = _ref7.route;\n      return {\n        headerStyle: {\n          backgroundColor: 'rgb(21, 34, 56)',\n          height: windowWidth > 375 ? 110 : 85,\n          shadowColor: 'transparent'\n        },\n        headerTintColor: '#fff',\n        headerTitleStyle: {\n          fontWeight: 'normal'\n        },\n        headerTitleAlign: \"center\",\n        headerBackTitleVisible: false,\n        headerTintColor: '#7CFC00',\n        headerTitleStyle: {\n          color: 'white'\n        }\n      };\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 11\n    }\n  }), React.createElement(Stack.Screen, {\n    name: \"Edit Printer Name\",\n    component: EditPrinterNameView,\n    options: function options(_ref8) {\n      var route = _ref8.route;\n      return {\n        headerStyle: {\n          backgroundColor: 'rgb(21, 34, 56)',\n          height: windowWidth > 375 ? 110 : 85,\n          shadowColor: 'transparent'\n        },\n        headerTintColor: '#fff',\n        headerTitleStyle: {\n          fontWeight: 'normal'\n        },\n        headerTitleAlign: \"center\",\n        headerBackTitleVisible: false,\n        headerTintColor: '#7CFC00',\n        headerTitleStyle: {\n          color: 'white'\n        }\n      };\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 11\n    }\n  }))));\n}\n\nexport default withAuthenticator(App);","map":{"version":3,"sources":["/Users/aleksimpson/Desktop/Cogniprint/App.js"],"names":["Amplify","Storage","config","Auth","configure","React","useEffect","useState","useReducer","NavigationContainer","createStackNavigator","TouchableOpacity","DetailsScreen","SettingsPage","withAuthenticator","CardView","FileSystem","Permissions","Notifications","Provider","useSelector","useDispatch","updatePrinter","store","subscriptions","fetchPrinters","Ionicons","Icon","MaterialCommunityIcons","MCI","darker","API","graphqlOperation","printersByOwner","listPrints","updatePrinterDict","EditPrinterView","EditPrinterNameView","LoadingCardsView","YellowBox","ignoreWarnings","windowWidth","Dimensions","get","width","windowHeight","height","styles","StyleSheet","create","view","position","backgroundColor","image","paddingTop","paddingBottom","marginTop","shadowColor","borderRadius","touchable","alignItems","justifyContent","printerNameText","fontSize","textAlign","color","bottom","left","marginLeft","marginBottom","printerStatusText","right","marginRight","cardCompletionViewStyle","Math","round","borderColor","borderWidth","calculateTimeExpired","printer","currentTime","Date","printerUpdated","updatedAt","diff","abs","expiredTime","RenderButtons","navigation","handleLoading","listPrinters","state","listP","images","imageDict","dispatch","offlineDetection","console","log","i","forEach","printerState","status","timeExpired","newListPrinters","registerForPushNotificationsAsync","Constants","isDevice","getAsync","NOTIFICATIONS","existingStatus","finalStatus","askAsync","alert","getExpoPushTokenAsync","token","setState","expoPushToken","Platform","OS","createChannelAndroidAsync","name","sound","priority","vibrate","map","id","navigate","HomeScreen","refreshing","setRefreshing","onRefresh","clear","then","flex","length","Stack","App","title","headerStyle","headerTintColor","headerTitleStyle","fontWeight","headerTitleAlign","headerRight","route","params","headerBackTitleVisible"],"mappings":"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","sourcesContent":["\nimport Amplify, { Storage } from 'aws-amplify'\nimport config from './aws-exports'\nimport { Auth } from 'aws-amplify';\nAmplify.configure(config)\nimport 'react-native-gesture-handler';\nimport * as React from 'react';\nimport { useEffect, useState, useReducer } from 'react'\nimport { View, Text, Button, StyleSheet, Image, ScrollView, Dimensions, RefreshControl } from 'react-native';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createStackNavigator } from '@react-navigation/stack';\nimport { TouchableOpacity } from 'react-native-gesture-handler';\nimport { DetailsScreen } from './DetailScreen.js';\nimport { SettingsPage } from './SettingsPage.js';\nimport { withAuthenticator } from 'aws-amplify-react-native'\nimport { CardView } from './CardView.js';\nimport * as FileSystem from 'expo-file-system';\nimport * as Permissions from 'expo-permissions';\nimport * as Notifications from 'expo-notifications';\nimport { Provider } from 'react-redux'; \nimport { useSelector, useDispatch } from 'react-redux';\nimport { updatePrinter } from './updatePrinters.js';\nimport store from './store.js';\nimport * as subscriptions from './graphql/subscriptions';\nimport { fetchPrinters } from './FetchPrinters.js';\nimport { Ionicons as Icon} from '@expo/vector-icons';\nimport { MaterialCommunityIcons as MCI} from '@expo/vector-icons';\nimport { darker } from './Colors.js';\n\nimport { API, graphqlOperation } from 'aws-amplify'\nimport { printersByOwner, listPrints } from './graphql/queries'\n\nimport { YellowBox } from 'react-native';\nimport { updatePrinterDict } from './updatePrinterDict';\nimport { EditPrinterView } from './EditPrinterView';\nimport { EditPrinterNameView } from './EditPrinterNameView.js';\nimport { LoadingCardsView } from './LoadingCardView';\n\nYellowBox.ignoreWarnings([\n  'Non-serializable values were found in the navigation state',\n]);\n\nconst windowWidth = Dimensions.get('window').width;\nconst windowHeight = Dimensions.get('window').height;\n\nconst styles = StyleSheet.create({\n  view: \n  {\n    position: 'absolute',\n    backgroundColor: 'transparent'\n  },\n  image: \n  {\n    width: windowWidth - 30,\n    height: windowHeight / 4,\n    paddingTop: '2%',\n    paddingBottom: '2%',\n    marginTop: 25,\n    shadowColor: 'transparent',\n    borderRadius:10\n  },\n  touchable:\n  {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor:'rgb(21, 34, 56)'\n  },\n  printerNameText: \n  {\n    fontSize: 200,\n    textAlign: 'center',\n    color: 'white',\n    bottom: 0,\n    left:0,\n    position: 'absolute',\n    marginLeft: 10,\n    marginBottom: 7\n  },\n  printerStatusText: \n  {\n    fontSize: 15,\n    textAlign: 'center',\n    color: 'white',\n    bottom: 0,\n    right:0,\n    position: 'absolute',\n    marginRight: 10,\n    marginBottom: 10\n  },\n  cardCompletionViewStyle:\n  {\n    borderRadius: Math.round(windowWidth + windowHeight) / 2,\n    width: windowWidth / (windowWidth/125),\n    height: windowWidth / (windowWidth/125),\n    borderColor: 'rgba(255, 255, 255, .3)', \n    borderWidth: 5,\n    alignItems: 'center',\n    position: 'absolute',\n    right: 0,\n    marginRight: 10,\n    marginTop: (windowHeight/60)\n  },\n})\n\n//Calculates if the printer has expired\nfunction calculateTimeExpired(printer)\n{\n  let currentTime = new Date()\n  let printerUpdated = new Date(printer.updatedAt)\n  let diff = Math.abs(currentTime - printerUpdated) / 1000;\n  let expiredTime = diff > (5 * 60)\n  return expiredTime\n}\n\nfunction RenderButtons({ navigation, handleLoading })\n{\n  const listPrinters = useSelector(state => { return state.listP })\n  const images = useSelector(state => { return state.imageDict })\n  \n  const dispatch = useDispatch()\n\n  //Detects if the printer has been disconnected\n  function offlineDetection()\n  {\n    console.log('calling again')\n    let i = 0\n    listPrinters.forEach(function (printer) \n    {\n      if (printer.printerState != null)\n      {\n        if (printer.printerState.status != 0)\n        {\n          let timeExpired = calculateTimeExpired(printer)\n          \n          if (timeExpired)\n          {\n            var newListPrinters = [...listPrinters]\n            \n            newListPrinters[i].status = 0\n            dispatch(updatePrinter(newListPrinters))\n            \n          }\n          console.log('did get to ', i)\n          i++\n        }\n      }\n    })\n    offlineDetection()\n  }\n  //Stuff for push notifications\n  registerForPushNotificationsAsync = async () => \n  {\n    if (Constants.isDevice) \n    {\n      const { status: existingStatus } = await Permissions.getAsync(Permissions.NOTIFICATIONS);\n      let finalStatus = existingStatus;\n      if (existingStatus !== 'granted') \n      {\n        const { status } = await Permissions.askAsync(Permissions.NOTIFICATIONS);\n        finalStatus = status;\n      }\n      if (finalStatus !== 'granted') \n      {\n        alert('Failed to get push token for push notification!');\n        return;\n      }\n      const token = await Notifications.getExpoPushTokenAsync();\n      console.log(token);\n      this.setState({ expoPushToken: token });\n    } else \n    {\n      alert('Must use physical device for Push Notifications');\n    }\n  \n    if (Platform.OS === 'android') \n    {\n      Notifications.createChannelAndroidAsync('default', \n      {\n        name: 'default',\n        sound: true,\n        priority: 'max',\n        vibrate: [0, 250, 250, 250],\n      });\n    }\n  };\n\n  offlineDetection()\n\n  return listPrinters.map((printer) => \n  {\n    return (\n      <TouchableOpacity key={printer.id} style={styles.touchable} onPress={ () => navigation.navigate('Detail Screen', { printer: printer, images: images })}>\n        <CardView printer={printer} images={images} />\n      </TouchableOpacity>\n    );\n  });\n}\n\nfunction HomeScreen({ navigation }) \n{\n  const [refreshing, setRefreshing] = useState(false)\n  //const images = useSelector(state => { return state.imageDict })\n  const listPrinters = useSelector(state => { return state.listP })\n  const dispatch = useDispatch()\n\n  function onRefresh()\n  {\n    setRefreshing(true)\n    let clear = [];\n    dispatch(updatePrinter(clear))\n\n    fetchPrinters(true).then(() => setRefreshing(false))\n  }\n\n  useEffect(() => \n  {\n    fetchPrinters()\n  }, [])\n\n  return (\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center', backgroundColor: darker['five'] }}>\n      {(listPrinters.length > 0) &&\n        <ScrollView\n          refreshControl={\n            <RefreshControl refreshing={refreshing} onRefresh={onRefresh}/>\n          }\n        >\n          <RenderButtons navigation={navigation} handleLoading={() => handleLoading}/>\n        </ScrollView>\n      }\n      {(listPrinters.length == 0) &&\n        <LoadingCardsView/>\n      }\n    </View>\n  );\n}\nconst Stack = createStackNavigator();\n\nfunction App({ navigation }) \n{\n  return (\n    <Provider store={store}>\n      <NavigationContainer>\n        <Stack.Navigator initialRouteName=\"Home\">\n          <Stack.Screen \n            name=\"Printers\" \n            component={HomeScreen}  \n            options={({ navigation }) => ({\n              title: 'Printers',\n              headerStyle: \n              {\n                backgroundColor: 'rgb(21, 34, 56)',\n                height:(windowWidth > 375 ? 110 : 85),\n                shadowColor: 'transparent'\n              },\n              headerTintColor: '#fff',\n              headerTitleStyle: \n              {\n                fontWeight: 'bold',\n                fontSize:30,\n                marginTop:30\n              },\n              headerTitleAlign: \"left\",\n              headerRight: () => (\n                <TouchableOpacity onPress={() => navigation.navigate('Settings')}>\n                  <Icon name='ios-settings' size={32} color='#7CFC00' style={{ marginRight: 20, marginTop: 20 }} />\n                </TouchableOpacity>\n              ),\n            })}\n          />\n          <Stack.Screen \n            name=\"Detail Screen\" \n            component={DetailsScreen}\n            options={({ route, navigation }) => \n            ({\n              headerStyle: \n              {\n                backgroundColor: 'rgb(21, 34, 56)',\n                height:(windowWidth > 375 ? 110 : 85),\n                shadowColor: 'transparent'\n              },\n              headerTintColor: '#fff',\n              headerTitleStyle: \n              {\n                fontWeight: 'normal',\n              },\n              headerTitleAlign: \"center\",\n              title: route.params.printer.name,\n              headerBackTitleVisible: false,\n              headerTintColor: '#7CFC00',\n              headerTitleStyle: { color: 'white' },\n              headerRight: () => (\n                <TouchableOpacity onPress={() => navigation.navigate('Printer Settings', { printer: route.params.printer})}>\n                  <MCI name='pencil' size={32} color='#7CFC00' style={{ marginRight: 20, marginTop: 10 }} />\n                </TouchableOpacity>\n              ),\n            })}\n            \n          />\n          <Stack.Screen \n            name=\"Settings\" \n            component={SettingsPage}\n            options={({ route }) => \n            ({\n              headerStyle: \n              {\n                backgroundColor: 'rgb(21, 34, 56)',\n                height:(windowWidth > 375 ? 110 : 85),\n                shadowColor: 'transparent'\n              },\n              headerTintColor: '#fff',\n              headerTitleStyle: \n              {\n                fontWeight: 'normal',\n              },\n              headerTitleAlign: \"center\",\n              headerBackTitleVisible: false,\n              headerTintColor: '#7CFC00',\n              headerTitleStyle: { color: 'white' },\n            })}\n          />\n          <Stack.Screen\n            name=\"Printer Settings\" \n            component={EditPrinterView}\n            options={({ route }) => \n            ({\n              headerStyle: \n              {\n                backgroundColor: 'rgb(21, 34, 56)',\n                height:(windowWidth > 375 ? 110 : 85),\n                shadowColor: 'transparent'\n              },\n              headerTintColor: '#fff',\n              headerTitleStyle: \n              {\n                fontWeight: 'normal',\n              },\n              headerTitleAlign: \"center\",\n              headerBackTitleVisible: false,\n              headerTintColor: '#7CFC00',\n              headerTitleStyle: { color: 'white' },\n            })}\n          />\n          <Stack.Screen\n            name=\"Edit Printer Name\" \n            component={EditPrinterNameView}\n            options={({ route }) => \n            ({\n              headerStyle: \n              {\n                backgroundColor: 'rgb(21, 34, 56)',\n                height:(windowWidth > 375 ? 110 : 85),\n                shadowColor: 'transparent'\n              },\n              headerTintColor: '#fff',\n              headerTitleStyle: \n              {\n                fontWeight: 'normal',\n              },\n              headerTitleAlign: \"center\",\n              headerBackTitleVisible: false,\n              headerTintColor: '#7CFC00',\n              headerTitleStyle: { color: 'white' },\n            })}\n          />\n        </Stack.Navigator>\n      </NavigationContainer>\n    </Provider>\n  );\n}\n\n/*\nheaderTintColor: '#7CFC00',\n              headerTitleStyle: { color: 'white' },\n*/\n\nexport default withAuthenticator(App);\n"]},"metadata":{},"sourceType":"module"}